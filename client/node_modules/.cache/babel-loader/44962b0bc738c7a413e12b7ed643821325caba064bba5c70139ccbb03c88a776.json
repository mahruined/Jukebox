{"ast":null,"code":"export default class Playlist {\n  constructor() {\n    this.expireAfter = 1000 * 60 * 10; // 10 minutes\n    this.initExpiration();\n  }\n  initExpiration() {\n    const expiry = sessionStorage.getItem(\"playlistExpiry\");\n    if (expiry && Date.now() > parseInt(expiry)) {\n      sessionStorage.clear();\n    }\n  }\n  saveGenreSongs(genre, song) {\n    const key = `genre-${genre.toLowerCase()}`;\n    const current = this.getGenreSongs(genre);\n    current.push(song);\n    sessionStorage.setItem(key, JSON.stringify(current));\n    this.setExpiry();\n  }\n  getGenreSongs(genre) {\n    const key = `genre-${genre.toLowerCase()}`;\n    const raw = sessionStorage.getItem(key);\n    return raw ? JSON.parse(raw) : [];\n  }\n  setExpiry() {\n    sessionStorage.setItem(\"playlistExpiry\", (Date.now() + this.expireAfter).toString());\n  }\n}","map":{"version":3,"names":["Playlist","constructor","expireAfter","initExpiration","expiry","sessionStorage","getItem","Date","now","parseInt","clear","saveGenreSongs","genre","song","key","toLowerCase","current","getGenreSongs","push","setItem","JSON","stringify","setExpiry","raw","parse","toString"],"sources":["C:/school/SPA/ERMM-musicplayer/Jukebox/client/src/util/playlist.js"],"sourcesContent":["export default class Playlist {\r\n  constructor() {\r\n    this.expireAfter = 1000 * 60 * 10; // 10 minutes\r\n    this.initExpiration();\r\n  }\r\n\r\n  initExpiration() {\r\n    const expiry = sessionStorage.getItem(\"playlistExpiry\");\r\n    if (expiry && Date.now() > parseInt(expiry)) {\r\n      sessionStorage.clear();\r\n    }\r\n  }\r\n\r\n  saveGenreSongs(genre, song) {\r\n    const key = `genre-${genre.toLowerCase()}`;\r\n    const current = this.getGenreSongs(genre);\r\n    current.push(song);\r\n    sessionStorage.setItem(key, JSON.stringify(current));\r\n    this.setExpiry();\r\n  }\r\n\r\n  getGenreSongs(genre) {\r\n    const key = `genre-${genre.toLowerCase()}`;\r\n    const raw = sessionStorage.getItem(key);\r\n    return raw ? JSON.parse(raw) : [];\r\n  }\r\n\r\n  setExpiry() {\r\n    sessionStorage.setItem(\"playlistExpiry\", (Date.now() + this.expireAfter).toString());\r\n  }\r\n}\r\n"],"mappings":"AAAA,eAAe,MAAMA,QAAQ,CAAC;EAC5BC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,WAAW,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IACnC,IAAI,CAACC,cAAc,CAAC,CAAC;EACvB;EAEAA,cAAcA,CAAA,EAAG;IACf,MAAMC,MAAM,GAAGC,cAAc,CAACC,OAAO,CAAC,gBAAgB,CAAC;IACvD,IAAIF,MAAM,IAAIG,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGC,QAAQ,CAACL,MAAM,CAAC,EAAE;MAC3CC,cAAc,CAACK,KAAK,CAAC,CAAC;IACxB;EACF;EAEAC,cAAcA,CAACC,KAAK,EAAEC,IAAI,EAAE;IAC1B,MAAMC,GAAG,GAAG,SAASF,KAAK,CAACG,WAAW,CAAC,CAAC,EAAE;IAC1C,MAAMC,OAAO,GAAG,IAAI,CAACC,aAAa,CAACL,KAAK,CAAC;IACzCI,OAAO,CAACE,IAAI,CAACL,IAAI,CAAC;IAClBR,cAAc,CAACc,OAAO,CAACL,GAAG,EAAEM,IAAI,CAACC,SAAS,CAACL,OAAO,CAAC,CAAC;IACpD,IAAI,CAACM,SAAS,CAAC,CAAC;EAClB;EAEAL,aAAaA,CAACL,KAAK,EAAE;IACnB,MAAME,GAAG,GAAG,SAASF,KAAK,CAACG,WAAW,CAAC,CAAC,EAAE;IAC1C,MAAMQ,GAAG,GAAGlB,cAAc,CAACC,OAAO,CAACQ,GAAG,CAAC;IACvC,OAAOS,GAAG,GAAGH,IAAI,CAACI,KAAK,CAACD,GAAG,CAAC,GAAG,EAAE;EACnC;EAEAD,SAASA,CAAA,EAAG;IACVjB,cAAc,CAACc,OAAO,CAAC,gBAAgB,EAAE,CAACZ,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,IAAI,CAACN,WAAW,EAAEuB,QAAQ,CAAC,CAAC,CAAC;EACtF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}