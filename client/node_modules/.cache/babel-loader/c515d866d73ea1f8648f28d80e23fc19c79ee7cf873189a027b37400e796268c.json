{"ast":null,"code":"export default class Playlist {\n  constructor() {\n    this.expireAfter = 1000 * 60 * 10; // 10 minutes\n    this.initExpiration();\n  }\n  initExpiration() {\n    const expiry = sessionStorage.getItem(\"playlistExpiry\");\n    if (expiry && Date.now() > parseInt(expiry)) {\n      sessionStorage.clear();\n    }\n  }\n  saveGenreSongs(genreId, song) {\n    const key = `genre-${genreId}`; // now using ID\n    const current = this.getGenreSongs(genreId);\n    current.push(song);\n    sessionStorage.setItem(key, JSON.stringify(current));\n    this.setExpiry();\n  }\n  getGenreSongs(genreId) {\n    const key = `genre-${genreId}`; // using ID\n    const raw = sessionStorage.getItem(key);\n    return raw ? JSON.parse(raw) : [];\n  }\n  setExpiry() {\n    sessionStorage.setItem(\"playlistExpiry\", (Date.now() + this.expireAfter).toString());\n  }\n}","map":{"version":3,"names":["Playlist","constructor","expireAfter","initExpiration","expiry","sessionStorage","getItem","Date","now","parseInt","clear","saveGenreSongs","genreId","song","key","current","getGenreSongs","push","setItem","JSON","stringify","setExpiry","raw","parse","toString"],"sources":["C:/school/SPA/ERMM-musicplayer/Jukebox/client/src/util/playlist.js"],"sourcesContent":["export default class Playlist {\r\n  constructor() {\r\n    this.expireAfter = 1000 * 60 * 10; // 10 minutes\r\n    this.initExpiration();\r\n  }\r\n\r\n  initExpiration() {\r\n    const expiry = sessionStorage.getItem(\"playlistExpiry\");\r\n    if (expiry && Date.now() > parseInt(expiry)) {\r\n      sessionStorage.clear();\r\n    }\r\n  }\r\n\r\n  saveGenreSongs(genreId, song) {\r\n    const key = `genre-${genreId}`; // now using ID\r\n    const current = this.getGenreSongs(genreId);\r\n    current.push(song);\r\n    sessionStorage.setItem(key, JSON.stringify(current));\r\n    this.setExpiry();\r\n  }\r\n\r\n  getGenreSongs(genreId) {\r\n    const key = `genre-${genreId}`; // using ID\r\n    const raw = sessionStorage.getItem(key);\r\n    return raw ? JSON.parse(raw) : [];\r\n  }\r\n\r\n  setExpiry() {\r\n    sessionStorage.setItem(\"playlistExpiry\", (Date.now() + this.expireAfter).toString());\r\n  }\r\n}\r\n"],"mappings":"AAAA,eAAe,MAAMA,QAAQ,CAAC;EAC5BC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,WAAW,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IACnC,IAAI,CAACC,cAAc,CAAC,CAAC;EACvB;EAEAA,cAAcA,CAAA,EAAG;IACf,MAAMC,MAAM,GAAGC,cAAc,CAACC,OAAO,CAAC,gBAAgB,CAAC;IACvD,IAAIF,MAAM,IAAIG,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGC,QAAQ,CAACL,MAAM,CAAC,EAAE;MAC3CC,cAAc,CAACK,KAAK,CAAC,CAAC;IACxB;EACF;EAEAC,cAAcA,CAACC,OAAO,EAAEC,IAAI,EAAE;IAC5B,MAAMC,GAAG,GAAG,SAASF,OAAO,EAAE,CAAC,CAAC;IAChC,MAAMG,OAAO,GAAG,IAAI,CAACC,aAAa,CAACJ,OAAO,CAAC;IAC3CG,OAAO,CAACE,IAAI,CAACJ,IAAI,CAAC;IAClBR,cAAc,CAACa,OAAO,CAACJ,GAAG,EAAEK,IAAI,CAACC,SAAS,CAACL,OAAO,CAAC,CAAC;IACpD,IAAI,CAACM,SAAS,CAAC,CAAC;EAClB;EAEAL,aAAaA,CAACJ,OAAO,EAAE;IACrB,MAAME,GAAG,GAAG,SAASF,OAAO,EAAE,CAAC,CAAC;IAChC,MAAMU,GAAG,GAAGjB,cAAc,CAACC,OAAO,CAACQ,GAAG,CAAC;IACvC,OAAOQ,GAAG,GAAGH,IAAI,CAACI,KAAK,CAACD,GAAG,CAAC,GAAG,EAAE;EACnC;EAEAD,SAASA,CAAA,EAAG;IACVhB,cAAc,CAACa,OAAO,CAAC,gBAAgB,EAAE,CAACX,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,IAAI,CAACN,WAAW,EAAEsB,QAAQ,CAAC,CAAC,CAAC;EACtF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}