{"ast":null,"code":"var _jsxFileName = \"C:\\\\school\\\\SPA\\\\ERMM-musicplayer\\\\Jukebox\\\\musicplayer\\\\src\\\\components\\\\Genres\\\\genrepage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport './Style/genrepage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GenrePage = () => {\n  _s();\n  var _songs$;\n  const {\n    id\n  } = useParams();\n  const [songs, setSongs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentSong, setCurrentSong] = useState(null); // Current song state\n  const [player, setPlayer] = useState(null); // Player state to control audio\n\n  useEffect(() => {\n    axios.get(`http://localhost:3000/api/songs/${id}`).then(response => {\n      setSongs(response.data);\n      setLoading(false);\n    }).catch(error => {\n      setError('Failed to fetch songs');\n      setLoading(false);\n    });\n  }, [id]);\n  const handlePlay = song => {\n    setCurrentSong(song); // Set the song to be the current one\n    if (player) {\n      player.pause(); // Pause any currently playing song\n    }\n  };\n\n  // Initialize the audio player when a song is selected\n  useEffect(() => {\n    if (currentSong) {\n      const audioPlayer = new Audio(currentSong.file_path);\n      setPlayer(audioPlayer); // Set the audio player to the state\n      audioPlayer.load(); // Load the audio file\n    }\n  }, [currentSong]);\n\n  // Handle volume change\n  const handleVolumeChange = amount => {\n    if (player) {\n      player.volume = Math.min(Math.max(player.volume + amount, 0), 1); // Ensure volume is between 0 and 1\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading songs...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"genre-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: ((_songs$ = songs[0]) === null || _songs$ === void 0 ? void 0 : _songs$.genre) || 'Genre'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"songs-list\",\n      children: songs.map((song, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"song-item\",\n        onClick: () => handlePlay(song) // Set the clicked song as the current song\n        ,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: song.image,\n          alt: song.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [song.title, \" - \", song.artist]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), currentSong && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"current-song-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"song-title\",\n          children: currentSong.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"artist\",\n          children: currentSong.artist\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"duration\",\n          children: currentSong.duration ? `${currentSong.duration}s` : 'Loading duration...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom-audio-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => player === null || player === void 0 ? void 0 : player.play(),\n          children: \"Play\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => player === null || player === void 0 ? void 0 : player.pause(),\n          children: \"Pause\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleVolumeChange(0.1),\n          children: \"Vol +\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleVolumeChange(-0.1),\n          children: \"Vol -\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(GenrePage, \"CGq/lJIXrpI6X6E8P+yVeuME87c=\", false, function () {\n  return [useParams];\n});\n_c = GenrePage;\nexport default GenrePage;\nvar _c;\n$RefreshReg$(_c, \"GenrePage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","jsxDEV","_jsxDEV","GenrePage","_s","_songs$","id","songs","setSongs","loading","setLoading","error","setError","currentSong","setCurrentSong","player","setPlayer","get","then","response","data","catch","handlePlay","song","pause","audioPlayer","Audio","file_path","load","handleVolumeChange","amount","volume","Math","min","max","className","children","fileName","_jsxFileName","lineNumber","columnNumber","genre","map","index","onClick","src","image","alt","title","artist","duration","play","_c","$RefreshReg$"],"sources":["C:/school/SPA/ERMM-musicplayer/Jukebox/musicplayer/src/components/Genres/genrepage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './Style/genrepage.css';\r\n\r\nconst GenrePage = () => {\r\n  const { id } = useParams();\r\n  const [songs, setSongs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [currentSong, setCurrentSong] = useState(null); // Current song state\r\n  const [player, setPlayer] = useState(null); // Player state to control audio\r\n\r\n  useEffect(() => {\r\n    axios.get(`http://localhost:3000/api/songs/${id}`)\r\n      .then((response) => {\r\n        setSongs(response.data);\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        setError('Failed to fetch songs');\r\n        setLoading(false);\r\n      });\r\n  }, [id]);\r\n\r\n  const handlePlay = (song) => {\r\n    setCurrentSong(song); // Set the song to be the current one\r\n    if (player) {\r\n      player.pause(); // Pause any currently playing song\r\n    }\r\n  };\r\n\r\n  // Initialize the audio player when a song is selected\r\n  useEffect(() => {\r\n    if (currentSong) {\r\n      const audioPlayer = new Audio(currentSong.file_path);\r\n      setPlayer(audioPlayer); // Set the audio player to the state\r\n      audioPlayer.load(); // Load the audio file\r\n    }\r\n  }, [currentSong]);\r\n\r\n  // Handle volume change\r\n  const handleVolumeChange = (amount) => {\r\n    if (player) {\r\n      player.volume = Math.min(Math.max(player.volume + amount, 0), 1); // Ensure volume is between 0 and 1\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading songs...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error\">{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"genre-page\">\r\n      <h1>{songs[0]?.genre || 'Genre'}</h1> {/* Display genre name dynamically */}\r\n\r\n      <div className=\"songs-list\">\r\n        {songs.map((song, index) => (\r\n          <div\r\n            key={index}\r\n            className=\"song-item\"\r\n            onClick={() => handlePlay(song)} // Set the clicked song as the current song\r\n          >\r\n            <img src={song.image} alt={song.title} />\r\n            <p>{song.title} - {song.artist}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Footer with the currently playing song */}\r\n      {currentSong && (\r\n        <div className=\"footer\">\r\n          <div className=\"current-song-info\">\r\n            <p className=\"song-title\">{currentSong.title}</p>\r\n            <p className=\"artist\">{currentSong.artist}</p>\r\n            <p className=\"duration\">\r\n              {currentSong.duration ? `${currentSong.duration}s` : 'Loading duration...'}\r\n            </p>\r\n          </div>\r\n\r\n          {/* Custom Audio Controls */}\r\n          <div className=\"custom-audio-controls\">\r\n            <button onClick={() => player?.play()}>Play</button>\r\n            <button onClick={() => player?.pause()}>Pause</button>\r\n            <button onClick={() => handleVolumeChange(0.1)}>Vol +</button>\r\n            <button onClick={() => handleVolumeChange(-0.1)}>Vol -</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GenrePage;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/B,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,OAAA;EACtB,MAAM;IAAEC;EAAG,CAAC,GAAGP,SAAS,CAAC,CAAC;EAC1B,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACc,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACgB,WAAW,EAAEC,cAAc,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EACtD,MAAM,CAACkB,MAAM,EAAEC,SAAS,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;;EAE5CC,SAAS,CAAC,MAAM;IACdE,KAAK,CAACiB,GAAG,CAAC,mCAAmCX,EAAE,EAAE,CAAC,CAC/CY,IAAI,CAAEC,QAAQ,IAAK;MAClBX,QAAQ,CAACW,QAAQ,CAACC,IAAI,CAAC;MACvBV,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,CACDW,KAAK,CAAEV,KAAK,IAAK;MAChBC,QAAQ,CAAC,uBAAuB,CAAC;MACjCF,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;EACN,CAAC,EAAE,CAACJ,EAAE,CAAC,CAAC;EAER,MAAMgB,UAAU,GAAIC,IAAI,IAAK;IAC3BT,cAAc,CAACS,IAAI,CAAC,CAAC,CAAC;IACtB,IAAIR,MAAM,EAAE;MACVA,MAAM,CAACS,KAAK,CAAC,CAAC,CAAC,CAAC;IAClB;EACF,CAAC;;EAED;EACA1B,SAAS,CAAC,MAAM;IACd,IAAIe,WAAW,EAAE;MACf,MAAMY,WAAW,GAAG,IAAIC,KAAK,CAACb,WAAW,CAACc,SAAS,CAAC;MACpDX,SAAS,CAACS,WAAW,CAAC,CAAC,CAAC;MACxBA,WAAW,CAACG,IAAI,CAAC,CAAC,CAAC,CAAC;IACtB;EACF,CAAC,EAAE,CAACf,WAAW,CAAC,CAAC;;EAEjB;EACA,MAAMgB,kBAAkB,GAAIC,MAAM,IAAK;IACrC,IAAIf,MAAM,EAAE;MACVA,MAAM,CAACgB,MAAM,GAAGC,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAACnB,MAAM,CAACgB,MAAM,GAAGD,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACpE;EACF,CAAC;EAED,IAAIrB,OAAO,EAAE;IACX,oBAAOP,OAAA;MAAKiC,SAAS,EAAC,SAAS;MAAAC,QAAA,EAAC;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACxD;EAEA,IAAI7B,KAAK,EAAE;IACT,oBAAOT,OAAA;MAAKiC,SAAS,EAAC,OAAO;MAAAC,QAAA,EAAEzB;IAAK;MAAA0B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAC7C;EAEA,oBACEtC,OAAA;IAAKiC,SAAS,EAAC,YAAY;IAAAC,QAAA,gBACzBlC,OAAA;MAAAkC,QAAA,EAAK,EAAA/B,OAAA,GAAAE,KAAK,CAAC,CAAC,CAAC,cAAAF,OAAA,uBAARA,OAAA,CAAUoC,KAAK,KAAI;IAAO;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,KAAC,eAEtCtC,OAAA;MAAKiC,SAAS,EAAC,YAAY;MAAAC,QAAA,EACxB7B,KAAK,CAACmC,GAAG,CAAC,CAACnB,IAAI,EAAEoB,KAAK,kBACrBzC,OAAA;QAEEiC,SAAS,EAAC,WAAW;QACrBS,OAAO,EAAEA,CAAA,KAAMtB,UAAU,CAACC,IAAI,CAAE,CAAC;QAAA;QAAAa,QAAA,gBAEjClC,OAAA;UAAK2C,GAAG,EAAEtB,IAAI,CAACuB,KAAM;UAACC,GAAG,EAAExB,IAAI,CAACyB;QAAM;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACzCtC,OAAA;UAAAkC,QAAA,GAAIb,IAAI,CAACyB,KAAK,EAAC,KAAG,EAACzB,IAAI,CAAC0B,MAAM;QAAA;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA,GAL9BG,KAAK;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAMP,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,EAGL3B,WAAW,iBACVX,OAAA;MAAKiC,SAAS,EAAC,QAAQ;MAAAC,QAAA,gBACrBlC,OAAA;QAAKiC,SAAS,EAAC,mBAAmB;QAAAC,QAAA,gBAChClC,OAAA;UAAGiC,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAEvB,WAAW,CAACmC;QAAK;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACjDtC,OAAA;UAAGiC,SAAS,EAAC,QAAQ;UAAAC,QAAA,EAAEvB,WAAW,CAACoC;QAAM;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9CtC,OAAA;UAAGiC,SAAS,EAAC,UAAU;UAAAC,QAAA,EACpBvB,WAAW,CAACqC,QAAQ,GAAG,GAAGrC,WAAW,CAACqC,QAAQ,GAAG,GAAG;QAAqB;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eAGNtC,OAAA;QAAKiC,SAAS,EAAC,uBAAuB;QAAAC,QAAA,gBACpClC,OAAA;UAAQ0C,OAAO,EAAEA,CAAA,KAAM7B,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEoC,IAAI,CAAC,CAAE;UAAAf,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACpDtC,OAAA;UAAQ0C,OAAO,EAAEA,CAAA,KAAM7B,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAES,KAAK,CAAC,CAAE;UAAAY,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACtDtC,OAAA;UAAQ0C,OAAO,EAAEA,CAAA,KAAMf,kBAAkB,CAAC,GAAG,CAAE;UAAAO,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC9DtC,OAAA;UAAQ0C,OAAO,EAAEA,CAAA,KAAMf,kBAAkB,CAAC,CAAC,GAAG,CAAE;UAAAO,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5D,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACpC,EAAA,CA1FID,SAAS;EAAA,QACEJ,SAAS;AAAA;AAAAqD,EAAA,GADpBjD,SAAS;AA4Ff,eAAeA,SAAS;AAAC,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}