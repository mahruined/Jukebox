{"ast":null,"code":"const express = require('express');\nconst router = express.Router();\n\n// Get songs for a specific genre along with the genre name\nrouter.get('/:id', (req, res) => {\n  const genreId = req.params.id;\n\n  // Query to fetch songs along with the genre name\n  const query = `\n    SELECT songs.id, songs.title, songs.artist, songs.file_path, songs.image, genres.name AS genre\n    FROM songs\n    JOIN genres ON songs.genre_id = genres.id\n    WHERE genres.id = ?\n  `;\n  db.execute(query, [genreId], (err, results) => {\n    if (err) {\n      console.error('Error fetching songs:', err);\n      return res.status(500).json({\n        error: 'Failed to fetch songs'\n      });\n    }\n    res.json(results); // Return the list of songs with the genre name\n  });\n});\nmodule.exports = router;","map":{"version":3,"names":["express","require","router","Router","get","req","res","genreId","params","id","query","db","execute","err","results","console","error","status","json","module","exports"],"sources":["C:/school/SPA/ERMM-musicplayer/Jukebox/musicplayer/src/components/Genres/genrepage.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\n\r\n// Get songs for a specific genre along with the genre name\r\nrouter.get('/:id', (req, res) => {\r\n  const genreId = req.params.id;\r\n\r\n  // Query to fetch songs along with the genre name\r\n  const query = `\r\n    SELECT songs.id, songs.title, songs.artist, songs.file_path, songs.image, genres.name AS genre\r\n    FROM songs\r\n    JOIN genres ON songs.genre_id = genres.id\r\n    WHERE genres.id = ?\r\n  `;\r\n\r\n  db.execute(query, [genreId], (err, results) => {\r\n    if (err) {\r\n      console.error('Error fetching songs:', err);\r\n      return res.status(500).json({ error: 'Failed to fetch songs' });\r\n    }\r\n    res.json(results);  // Return the list of songs with the genre name\r\n  });\r\n});\r\n\r\nmodule.exports = router;\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;;AAE/B;AACAD,MAAM,CAACE,GAAG,CAAC,MAAM,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC/B,MAAMC,OAAO,GAAGF,GAAG,CAACG,MAAM,CAACC,EAAE;;EAE7B;EACA,MAAMC,KAAK,GAAG;AAChB;AACA;AACA;AACA;AACA,GAAG;EAEDC,EAAE,CAACC,OAAO,CAACF,KAAK,EAAE,CAACH,OAAO,CAAC,EAAE,CAACM,GAAG,EAAEC,OAAO,KAAK;IAC7C,IAAID,GAAG,EAAE;MACPE,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEH,GAAG,CAAC;MAC3C,OAAOP,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEF,KAAK,EAAE;MAAwB,CAAC,CAAC;IACjE;IACAV,GAAG,CAACY,IAAI,CAACJ,OAAO,CAAC,CAAC,CAAE;EACtB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEFK,MAAM,CAACC,OAAO,GAAGlB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}