{"ast":null,"code":"export default class Playlist {\n  constructor() {\n    const sessionData = sessionStorage.getItem(\"playlistData\");\n    this.playlist = sessionData ? JSON.parse(sessionData) : [];\n    this.expireAfter = 1000 * 60 * 10; // 10 minutes\n    this.initExpiration();\n  }\n  initExpiration() {\n    const now = Date.now();\n    const expiry = sessionStorage.getItem(\"playlistExpiry\");\n    if (expiry && now > parseInt(expiry)) {\n      this.clear();\n    }\n  }\n  save() {\n    sessionStorage.setItem(\"playlistData\", JSON.stringify(this.playlist));\n    sessionStorage.setItem(\"playlistExpiry\", (Date.now() + this.expireAfter).toString());\n  }\n  addSong(song) {\n    this.playlist.push(song);\n    this.save();\n  }\n  getSongs() {\n    return [...this.playlist];\n  }\n  clear() {\n    this.playlist = [];\n    sessionStorage.removeItem(\"playlistData\");\n    sessionStorage.removeItem(\"playlistExpiry\");\n  }\n}","map":{"version":3,"names":["Playlist","constructor","sessionData","sessionStorage","getItem","playlist","JSON","parse","expireAfter","initExpiration","now","Date","expiry","parseInt","clear","save","setItem","stringify","toString","addSong","song","push","getSongs","removeItem"],"sources":["C:/school/SPA/ERMM-musicplayer/Jukebox/client/src/util/playlist.js"],"sourcesContent":["export default class Playlist {\r\n  constructor() {\r\n    const sessionData = sessionStorage.getItem(\"playlistData\");\r\n    this.playlist = sessionData ? JSON.parse(sessionData) : [];\r\n    this.expireAfter = 1000 * 60 * 10; // 10 minutes\r\n    this.initExpiration();\r\n  }\r\n\r\n  initExpiration() {\r\n    const now = Date.now();\r\n    const expiry = sessionStorage.getItem(\"playlistExpiry\");\r\n\r\n    if (expiry && now > parseInt(expiry)) {\r\n      this.clear();\r\n    }\r\n  }\r\n\r\n  save() {\r\n    sessionStorage.setItem(\"playlistData\", JSON.stringify(this.playlist));\r\n    sessionStorage.setItem(\"playlistExpiry\", (Date.now() + this.expireAfter).toString());\r\n  }\r\n\r\n  addSong(song) {\r\n    this.playlist.push(song);\r\n    this.save();\r\n  }\r\n\r\n  getSongs() {\r\n    return [...this.playlist];\r\n  }\r\n\r\n  clear() {\r\n    this.playlist = [];\r\n    sessionStorage.removeItem(\"playlistData\");\r\n    sessionStorage.removeItem(\"playlistExpiry\");\r\n  }\r\n}\r\n"],"mappings":"AAAA,eAAe,MAAMA,QAAQ,CAAC;EAC5BC,WAAWA,CAAA,EAAG;IACZ,MAAMC,WAAW,GAAGC,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC;IAC1D,IAAI,CAACC,QAAQ,GAAGH,WAAW,GAAGI,IAAI,CAACC,KAAK,CAACL,WAAW,CAAC,GAAG,EAAE;IAC1D,IAAI,CAACM,WAAW,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IACnC,IAAI,CAACC,cAAc,CAAC,CAAC;EACvB;EAEAA,cAAcA,CAAA,EAAG;IACf,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,CAAC;IACtB,MAAME,MAAM,GAAGT,cAAc,CAACC,OAAO,CAAC,gBAAgB,CAAC;IAEvD,IAAIQ,MAAM,IAAIF,GAAG,GAAGG,QAAQ,CAACD,MAAM,CAAC,EAAE;MACpC,IAAI,CAACE,KAAK,CAAC,CAAC;IACd;EACF;EAEAC,IAAIA,CAAA,EAAG;IACLZ,cAAc,CAACa,OAAO,CAAC,cAAc,EAAEV,IAAI,CAACW,SAAS,CAAC,IAAI,CAACZ,QAAQ,CAAC,CAAC;IACrEF,cAAc,CAACa,OAAO,CAAC,gBAAgB,EAAE,CAACL,IAAI,CAACD,GAAG,CAAC,CAAC,GAAG,IAAI,CAACF,WAAW,EAAEU,QAAQ,CAAC,CAAC,CAAC;EACtF;EAEAC,OAAOA,CAACC,IAAI,EAAE;IACZ,IAAI,CAACf,QAAQ,CAACgB,IAAI,CAACD,IAAI,CAAC;IACxB,IAAI,CAACL,IAAI,CAAC,CAAC;EACb;EAEAO,QAAQA,CAAA,EAAG;IACT,OAAO,CAAC,GAAG,IAAI,CAACjB,QAAQ,CAAC;EAC3B;EAEAS,KAAKA,CAAA,EAAG;IACN,IAAI,CAACT,QAAQ,GAAG,EAAE;IAClBF,cAAc,CAACoB,UAAU,CAAC,cAAc,CAAC;IACzCpB,cAAc,CAACoB,UAAU,CAAC,gBAAgB,CAAC;EAC7C;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}